\section{Merode Deliverables}
\label{sec:deliverables}
In deze sectie worden de merode deliverables besproken waarvan gewerkt wordt om tot 
een oplossing te komen binnen het versata framework. Deze deliverables zijn voornamelijk
ge\"inspireerd door het voorbeeld in hoofdstuk 7 van de merode documentatie.
Hier en daar zijn er echter wel enkele aanpassingen en/of uitbreidingen doorgevoerd.

Zo is er ook een library object toegevoegd om de member en copy klassen in een context te plaatsen. Verder werd ook de object event tabel uitgebreid met events voor het aanmaken en vernietigen van library objecten. 
Tenslotte werd ook de life cycle van het copy object wat uitgebreid om een moeilijker scenario te illustreren bij de omzetting van deze modellen binnen het versata framework.
\subsection{Existence Dependency Graph}
Dit EDG-diagram is hetzelfde als wat er in de opgave getoond werd, met als toevoeging de
library-component. Deze component zal verder ook invloed hebben op de OET zoals besproken in de \ref{sec:oet}.
\inclimg{0.60}{0}{LibraryEDG}{EDG for the library}
\subsection{Object Event Table}
In deze sectie wordt de Object event table besproken. Per event wordt er in deze tabel weergegeven
welke types van acties er worden uitgevoerd op verschillende objecten. (Deze acties zijn met de letters
C, M en E letters afgekort weergegeven voor Create, modify en End.)
\label{sec:oet}
\input{oet}
\subsection{Life cycles}
In deze sectie worden de lifecycles besproken voor de objecten in de voorgaande Merode modellen.
Deze life cycles worden voorgesteld in toestandsdiagramma en bepalen de toestanden waarin een bepaald object kan geraken door middel van het afvuren van bepaalde events op deze objecten.
\inclimg{0.55}{0}{CopyLC}{Lifecycle for Copy}
\inclimg{0.75}{0}{LoanLC}{Lifecycle for Loan}
\inclimg{0.75}{0}{MemberLC}{Lifecycle for Member}
\inclimg{0.75}{0}{ReservationLC}{Lifecycle for Reservation}
\inclimg{0.75}{0}{LibraryLC}{Lifecycle for Reservation}

\subsection{Precondities}
In deze sectie worden enkele precondities besproken waaraan bepaalde events moeten voldoen alvorens te vuren.

Allereerst worden er voor alle events constraints opgesteld gebaseerd op de lifecycles waarin hun doelobjecten voorkomen. Voor elke event wordt er een constraint bepaald voor het nagaan of het doelobject zich in de juiste toestand bevindt.

Een volgende conditie die uitgewerkt wordt als preconditie, is het feit dat een lid maar maximum 5 boeken mag ontlenen.
Alsook de conditie dat een boek enkel kan uitgeleend worden wanneer het nog niet is ontleend wordt, wordt uitgedrukt als een preconditie. 

In deze context wordt ook de regel toegevoegd dat een boek niet uitgeleend mag worden wanneer er nog een openstaande reservatie voor bestaat (die nog niet gefetched is).

Betreffende de bibliotheekobjecten zelf werd er bepaald dat alle boeken verkocht moeten worden, en alle leden het pand verlaten moeten hebben alvorens een bibliotheek te vernietigen.

Een boek kan ook niet verkocht worden wanneer er nog openstaande reservaties zijn voor dit boek, of wanneer dit boek nog uitgeleend is aan een lid.

Tenslotte kan een lid ook enkel de bibliotheek betreden wanneer deze bibliotheek effectief boeken heeft verworven. 

Hoe deze precondities uiteindelijk worden afgedwongen wordt beschreven in sectie \ref{sec:precondities} 
\subsection{Acties}
In deze sectie worden bepaalde acties besproken die gepaard gaan met het afvuren van bepaalde events.

Allereerst worden hier alle acties opgesteld gebaseerd op de lifecycles waarin hun doelobjecten voorkomen.
Voor elke event die een object in een andere toestand brengt, moet er als actie de regel toegevoegd worden die deze toestandsverandering uitvoert.

Verder moet er ook nog afgedwongen worden dat bij de events die een creatie-eigenschap hebben, de juiste business objecten moeten aangemaakt worden. Dit wordt verder besproken in sectie \ref{sec:acties}
