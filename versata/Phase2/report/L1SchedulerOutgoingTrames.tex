%\subsection{Level 1}
\subsubsection{Scheduler for outgoing trames}
\paragraph{Architectural drivers}
This component will manage outgoing control trames. It will prioritize important
	trames over others without having starvation. This component also has to
	construct the outgoing control trames, so that the receiver can correctly
	read all the contained information. Finally, this component will determine
	the communication channel to reach the remote device with.
\begin{itemize}
	\item \textbf{P1': Timely closure of valves}
	Outgoing valve control trames have a certain priority. Gas and Water valve control
		trames have the highest priority. Others have normal priority.
	\item \textbf{UC7': Send trame to remote device}
	ReMeS wants to send trames to remote devices to control those devices.
	\item \textbf{UC13': Send alarm}
	ReMeS has to send control trames to the remote actuators to close them in case that a leak is detected.
\end{itemize}


\paragraph{Tactics}
\begin{itemize}
	\item Performance
	\begin{itemize}
		\item Scheduling Policy \\
		To ensure the correct order of outgoing trames to remote devices,
			we chose for a scheduling policy.
	\end{itemize}
\end{itemize}


\paragraph{Architectural Patterns}
\begin{itemize}
	\item Message Translator \\
	To construct the trame to send to the remote device, we opted for
		a message translator pattern
	\item Active Object \\
	The active object pattern allows us to insert new outgoing trames (or atleast
		requests for sending outgoing trames) in a scheduler. The scheduler can
		then decide which requests to handle first.
	\item Proxy \\
	To increase the modifiability of the internal working of this component we chose
		to use the explicit interface pattern. The interface that we see outside the
		component will simply delegate it's methods to an internal component.
\end{itemize}
\inclimg{0.40}{0}{L2OutgoingTramesScheduler}{The Scheduler for Outgoing Trames after decomposition}


\paragraph{Verification and refinement of drivers}
The final part of P1 has been handled by this component. UC13' also was fulfilled by this component.
Only UC7 is partially finished. The trames to send have been constructed, but not yet sent. But
that part of UC7 will be done by another component in the system.

