<?xml version="1.0"?>
<!DOCTYPE DataObject SYSTEM "DataObject.dtd">
<DataObject
	DTDVersion="05.06.00"
	SurrId="0721350391.Administrator.0010"
	CodedValuesList="False"
	ImageReference=" "
	IsRemoteAccessible="False"
	UseQuotedIdentifiers="True"
	XdaConnector="SQL"
	SuperClass="DataObject"
	LockMode="AllApplicableAttributes"
	>
	<Attributes>
		<Attribute
			Name="PKFetchEvent"
			PreventUserUpdates="True"
			ValueRequired="True"
			LayoutByDefault="True"
			Persistent="True"
			>
			<DataType
				DataType="AutoNumber"
			/>
			<Derivation
				DerivationType="None"
			/>
			<Validation
				ValidationType="Condition"
			/>
		</Attribute>
		<Attribute
			Name="FKReservation"
			PreventUserUpdates="True"
			ValueRequired="False"
			LayoutByDefault="True"
			Persistent="True"
			>
			<DataType
				DataType="Long"
			/>
			<Derivation
				DerivationType="None"
			/>
			<Validation
				ValidationType="Condition"
			/>
		</Attribute>
		<Attribute
			Name="FKLoan"
			PreventUserUpdates="False"
			ValueRequired="True"
			LayoutByDefault="True"
			Persistent="True"
			>
			<DataType
				DataType="Long"
			/>
			<Derivation
				DerivationType="None"
			/>
			<Validation
				ValidationType="Condition"
			/>
		</Attribute>
		<Attribute
			Name="TimeStamp"
			PreventUserUpdates="False"
			ValueRequired="False"
			LayoutByDefault="True"
			Persistent="True"
			>
			<DataType
				DataType="Date"
			/>
			<Derivation
				DerivationType="Default"
				>
				<DefaultValue><![CDATA[date()]]></DefaultValue>
			</Derivation>
			<Validation
				ValidationType="Condition"
			/>
		</Attribute>
	</Attributes>
	<Indexes></Indexes>
	<SingularCaption><![CDATA[*]]></SingularCaption>
	<PluralCaption><![CDATA[*]]></PluralCaption>
	<VLSDeployment
		DeploySecurityInfo="False"
	/>
	<Constraints>
		<Constraint
			Name="Copy 1"
			ConditionType="AcceptWhen"
			ErrorAttribute="FKReservation"
			>
			<Condition><![CDATA[getReservation().getCopy().getCopyState()=5]]></Condition>
			<ErrorMessage><![CDATA[Invalid state Reservation]]></ErrorMessage>
		</Constraint>
		<Constraint
			Name="Member 1"
			ConditionType="AcceptWhen"
			ErrorAttribute="FKReservation"
			>
			<Condition><![CDATA[getReservation().getMember().getMemberState()=1]]></Condition>
			<ErrorMessage><![CDATA[Invalid state Member]]></ErrorMessage>
		</Constraint>
		<Constraint
			Name="Reservation 1"
			ConditionType="AcceptWhen"
			ErrorAttribute="FKReservation"
			>
			<Condition><![CDATA[getReservation().getReservationState()=1]]></Condition>
			<ErrorMessage><![CDATA[Invalid state Reservation]]></ErrorMessage>
		</Constraint>
		<Constraint
			Name="Copy 2"
			ConditionType="AcceptWhen"
			ErrorAttribute="FKReservation"
			>
			<Condition><![CDATA[getReservation().getCopy().getCurrentLoans()=1]]></Condition>
			<ErrorMessage><![CDATA[Copy is still loaned out]]></ErrorMessage>
		</Constraint>
	</Constraints>
	<Actions>
		<Action
			Name="fetchCopy"
			>
			<ActionToPerform><![CDATA[getReservation().getCopy().setCopyState(2)]]></ActionToPerform>
			<Condition><![CDATA[ Inserting ]]></Condition>
			<Description><![CDATA[]]></Description>
		</Action>
		<Action
			Name="fetchReservation"
			>
			<ActionToPerform><![CDATA[getReservation().setReservationState(2)]]></ActionToPerform>
			<Condition><![CDATA[inserting]]></Condition>
			<Description><![CDATA[]]></Description>
		</Action>
	</Actions>
</DataObject>